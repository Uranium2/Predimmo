1- Création d'un bucket S3
- Dans AWS, creer un bucket.(région: Irelande)
- Aller dans autorisations/ Configuration CORS(permet de communiquer avec des applications externes)
Copier/Coller:
<?xml version="1.0" encoding="UTF-8"?>
<CORSConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/">
   <CORSRule>
        <AllowedOrigin>*</AllowedOrigin>  ----> *: n'importe quelle app, à modifier une fois qu'on a un nom de domaine
        <AllowedMethod>GET</AllowedMethod>
        <AllowedMethod>POST</AllowedMethod>
        <AllowedMethod>PUT</AllowedMethod>
        <AllowedHeader>*</AllowedHeader>
    </CORSRule>
</CORSConfiguration>
Enregistrer

2- Création d'IAM
-Creer un user
- Donner l'acces par programmation
- Donner l'acces au bucket
- Donner amazon s3 full access

3- Installer les packages suivants:
pip install boto3
pip install django-storages

4- Ajouter dans settings.py:
-intalled apps -> 'storages'

et

AWS_ACCESS_KEY_ID = '***********'
AWS_SECRET_ACCESS_KEY = '***********'
AWS_STORAGE_BUCKET_NAME = 'predimmo'
AWS_S3_CUSTOM_DOMAIN = '%s.s3.amazonaws.com' % AWS_STORAGE_BUCKET_NAME
AWS_S3_OBJECT_PARAMETERS = {
    'CacheControl': 'max-age=86400',
}
AWS_LOCATION = 'static'


STATICFILES_DIRS = [
    os.path.join(BASE_DIR, 'homepage/static'),
]
STATIC_URL = 'https://%s/%s/' % (AWS_S3_CUSTOM_DOMAIN, AWS_LOCATION)
STATICFILES_STORAGE = 'storages.backends.s3boto3.S3Boto3Storage'
DEFAULT_FILE_STORAGE = 'storages.backends.s3boto3.S3Boto3Storage'






























    os.path.join(BASE_DIR, 'homepage/static'),
]
STATIC_URL = 'https://%s/%s/' % (AWS_S3_CUSTOM_DOMAIN, AWS_LOCATION)
STATICFILES_STORAGE = 'storages.backends.s3boto3.S3Boto3Storage'
DEFAULT_FILE_STORAGE = 'storages.backends.s3boto3.S3Boto3Storage'
